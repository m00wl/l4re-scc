#pragma once

#include <l4/sys/kernel_object.h>
#include <l4/sys/ipc.h>
#include <l4/sys/capability>
#include <l4/sys/cxx/ipc_iface>

#include <cstdio>

namespace L4 {

class L4_EXPORT Sched_context :
  public Kobject_t<Sched_context, L4::Kobject, L4_PROTO_SCHED_CONTEXT>
{
public:
  enum L4_sched_context_ops
  {
    L4_SCHED_CONTEXT_TEST_OP = 0UL,
  };

  L4_INLINE_RPC_OP(L4_SCHED_CONTEXT_TEST_OP, l4_msgtag_t, test, ());
  //L4_INLINE_RPC_NF_OP(L4_SCHED_CONTEXT_TEST_OP, l4_msgtag_t, test, ());

  //l4_msgtag_t test(l4_utcb_t *utcb = l4_utcb()) const noexcept
  //{
  //  printf("hello!\n");
  //  return test_t::call(c(), utcb);
  //}

  typedef L4::Typeid::Rpcs_sys<test_t> Rpcs;
};
}
